name: anemoi_env
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  - python=3.10
  - pytorch
  - torchvision
  - torchaudio
  - pytorch-cuda=12.4

  - pytorch-lightning
  - torch-geometric
  - pyg-lib
  - numpy
  - scipy
  - scikit-learn
  - pandas
  - xarray
  - zarr
  - dask
  - numba
  - cartopy
  - eccodes
  - cfgrib
  - netcdf4
  - h5py
  - matplotlib
  - seaborn
  - plotly
  - tqdm
  - mlflow
  - hydra-core
  - sqlalchemy

  - pip
  - pip:
      # Anemoi Suite
      - anemoi-datasets
      - anemoi-graphs
      - anemoi-inference
      - anemoi-models
      - anemoi-training
      - anemoi-transform
      - anemoi-utils

      # ECMWF tools
      - ecmwf-opendata
      - ecmwf-datastores-client
      - cdsapi

      # GPU-specific libraries
      - flash-attn
      - triton

      # その他
      - timm
      - fastapi
      - uvicorn
      - gunicorn
      - docker
      
# pip install \
#     anemoi-datasets anemoi-graphs anemoi-inference \
#     anemoi-models anemoi-training anemoi-transform anemoi-utils \
#     ecmwf-opendata ecmwf-datastores-client cdsapi \
#     flash-attn triton \
#     timm fastapi uvicorn gunicorn docker

#   anemoi-training config validate --config-name=config.yaml
#   ANEMOI_BASE_SEED=42 anemoi-training train --config-name=config.yaml
